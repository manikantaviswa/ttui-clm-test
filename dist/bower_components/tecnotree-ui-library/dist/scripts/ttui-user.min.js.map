{"version":3,"sources":["ttui-user.js"],"names":["module","exports","window","angular","undefined","moduleConfig","$rootScope","$state","CONFIG","CurrentUser","UserInfoFactory","Permissions","FlashMessage","userInfoFetchService","get","AUTH_MODULE","clearData","User","$watch","userAuthorized","$fetch","then","populateData","catch","bypass","$on","event","toState","toParams","isString","permission","preventDefault","getPermissions","permissions","hasUserPermission","go","show","HOME_STATE","$q","moment","getUserAttribute","attributeName","fallbackAttributeName","user","userPermissions","deferred","defer","getLoginTimeInDate","loginTimeValue","mnt","getMoment","momentValue","Date","toUTCString","response","split","resolve","getGivenName","bind","getFamilyName","getFullName","given_name","family_name","name","getLastLoginTime","login_time","loginTimeValues","getCurrentLoginTime","getLoginName","preferred_username","promise","getPermissionsV2","localDeferred","getUserPhoto","picture","getUserLocation","location","getSalesChannel","getOrganization","organization","userName","this","loginName","salesChannel","lastLoginTime","currentLoginTime","FakeUserInfoProvider","FakeUserInfo","userInfo","setFakeUserInfo","fakeUserInfo","$inject","$get","PermissionsProvider","$log","getMappedPermissionValue","mappedPermission","mappings","warn","isPermissionCorrect","replaceToRegularExpression","pattern","join","slice","RegExp","testedPermission","isArray","filter","some","userPermission","length","test","setMappings","mappingsConf","run","factory","provider","apiUrl","USER_SERVICE_API_URL","method","$resource","config","fetch","replace","OAuthUserInfo","authModuleName"],"mappings":";AAGsB,mBAAXA,SAA6C,mBAAZC,UAA2BD,OAAOC,UAAYA,UACzFD,OAAOC,QAAU,aAGlB,SAAWC,EAAQC,EAASC,GAC3B,YAaD,SAASC,GAAaC,EAAYC,EAAQC,EAAQC,EAAaC,EAAiBC,EAAaC,GAC5F,GAAIC,GAAuBH,EAAgBI,IAAIN,EAAOO,YACtDN,GAAYO,YAEZV,EAAWW,KAAOR,EAElBH,EAAWY,OAAO,iBAAkB,SAAUC,GAC7C,IAAKA,EAEJ,WADAV,GAAYO,WAIbH,GAAqBO,SACnBC,KAAKZ,EAAYa,cACjBC,MAAMd,EAAYO,YAErB,IAAIQ,EACJlB,GAAWmB,IAAI,oBAAqB,SAAUC,EAAOC,EAASC,GAC7D,GAAIzB,EAAQ0B,SAASF,EAAQG,YAAa,CACzC,GAAGN,EAEF,YADAA,GAAS,EAGVE,GAAMK,iBACNtB,EAAYuB,iBAAiBX,KAAK,SAAUY,GACtCtB,EAAYuB,kBAAkBP,EAAQG,WAAYG,IAItDT,GAAS,EACTjB,EAAO4B,GAAGR,EAASC,KAJnBhB,EAAawB,KAAK,QAAS,wJAAyJ,UAAU,GAC9L7B,EAAO4B,GAAG3B,EAAO6B,kBAkBtB,QAAS5B,GAAY6B,EAAIC,GAKxB,QAASC,GAAiBC,EAAeC,GACxC,MAAKC,GAIEA,EAAKF,IAAkBE,EAAKD,GAH3B,KANT,GAAIC,GAEAC,EADAC,EAAWP,EAAGQ,QAWdC,EAAqB,SAASC,GACjC,GAAIC,GAAMV,EAAOW,WACjB,IAAGF,EAAe,CACjB,GAAIG,GAAcF,EAAID,EAAgB,mBAEtC,OADgB,IAAII,MAAKD,GAAaE,cAGtC,MAAO,MAIT,QACC/B,aAAc,SAASgC,GACtBX,EAAOW,CACP,IAAIrB,GAAcU,GAAQA,EAAKV,YAAcU,EAAKV,YAAYsB,MAAM,OACpEX,GAAkBX,EAClBY,EAASW,QAAQvB,IAGlBjB,UAAW,WACV2B,EAAO,KACPC,MAGDa,aAAcjB,EAAiBkB,QAAS,aAAc,QACtDC,cAAenB,EAAiBkB,QAAS,cAAe,QAExDE,YAAa,WACZ,MAAKjB,GAIDA,EAAKkB,YAAclB,EAAKmB,YACpBnB,EAAKkB,WAAa,IAAMlB,EAAKmB,YAG9BnB,EAAKoB,KAPJ,MAUTC,iBAAkB,WACjB,IAAKrB,EACJ,MAAO,KAER,IAAIA,EAAKsB,WAAY,CACpB,GAAIC,GAAkBvB,EAAKsB,WAAWV,MAAM,IAE5C,OADoBR,GAAmBmB,EAAgB,IAIxD,MAAO,OAGRC,oBAAqB,WACpB,IAAKxB,EACJ,MAAO,KAER,IAAIA,EAAKsB,WAAY,CACpB,GAAIC,GAAkBvB,EAAKsB,WAAWV,MAAM,IAE5C,OADuBR,GAAmBmB,EAAgB,IAI3D,MAAO,OAGRE,aAAc,WACb,MAAOzB,IAAQA,EAAK0B,mBAAqB1B,EAAK0B,mBAAqB,MAKpErC,eAAgB,WACf,MAAOa,GAASyB,SAGjBC,iBAAkB,WACjB,GAAIC,GAAgBlC,EAAGQ,OAQvB,OAPIF,GACH4B,EAAchB,QAAQZ,GAEtBC,EAASyB,QAAQjD,KAAK,WACrBmD,EAAchB,QAAQZ,KAGjB4B,EAAcF,SAGtBG,aAAc,WACb,MAAO9B,GAAOA,EAAK+B,QAAU,MAG9BC,gBAAiB,WAChB,MAAOhC,IAAQA,EAAKiC,SAAWjC,EAAKiC,SAAW,MAGhDC,gBAAiB,WAChB,MAAO,OAGRC,gBAAiB,WAChB,MAAOnC,IAAQA,EAAKoC,aAAepC,EAAKoC,aAAe,MAGxDjE,IAAM,WACL,MAAO6B,IACNqC,SAAWC,KAAKrB,cAChBsB,UAAYD,KAAKb,eACjBQ,SAAUK,KAAKN,kBACfQ,aAAcF,KAAKJ,kBACnBO,cAAgBH,KAAKjB,mBACrBqB,iBAAmBJ,KAAKd,sBACxBY,aAAcE,KAAKH,mBAChB,OAWP,QAASQ,KAOR,QAASC,GAAajD,GACrB,MAAO,YACN,OACClB,OAAQ,WACP,MAAOkB,GAAGkB,QAAQgC,MAVtB,GAAIA,EAEJP,MAAKQ,gBAAkB,SAASC,GAC/BF,EAAWE,GAYZH,EAAaI,SAAW,MAExBV,KAAKW,KAAOL,EAgCb,QAASM,KAOR,QAASlF,GAAYmF,GACpB,QAASC,GAAyBjE,GACjC,GAAIkE,GAAmBC,EAASnE,EAKhC,OAJKkE,KACJF,EAAKI,KAAK,cAAgBpE,EAAa,iBACvCkE,EAAmBlE,GAEbkE,EAGR,QAASG,GAAqBrE,GAC7B,MAAO3B,GAAQ0B,SAASC,IAA8B,KAAfA,EAGxC,QAASsE,GAA2BtE,GACnC,GAAIuE,GAAUvE,EAAWyB,MAAM,KAAK+C,KAAK,MAQzC,OAPAD,GAAUA,EAAQ9C,MAAM,KAAK+C,KAAK,OAClCD,EAAUA,EAAQ9C,MAAM,KAAK+C,KAAK,OAClCD,EAAUA,EAAQ9C,MAAM,KAAK+C,KAAK,OAER,MAAtBD,EAAQE,OAAO,KAClBF,GAAW,KAEL,GAAIG,QAAOH,GAGnB,QAASnE,GAAkBJ,EAAYc,GACtC,GAAI6D,GAAmBV,EAAyBjE,EAChD,OAAO3B,GAAQuG,QAAQ9D,IACtBA,EAAgB+D,OAAOR,GAAqBS,KAC3C,SAAUC,GACT,MAAuB,MAAnBA,IAG+B,MAA/BJ,EAAiBF,OAAO,IAAcM,EAAeC,OAASL,EAAiBK,OAC3EV,EAA2BK,GAAkBM,KAAKF,GAEnDT,EAA2BS,GAAgBE,KAAKN,MAK3D,OACCvE,kBAAmBA,GAjDrB,GAAI+D,KAEJhB,MAAK+B,YAAc,SAASC,GAC3BhB,EAAWgB,GAiDZtG,EAAYgF,SAAW,QAEvBV,KAAKW,KAAOjF,EAvSb,GAAIX,GAAUG,EAAQH,OAAO,cAC5B,YACA,eACA,qCACA,kCACA,sCACA,mCAuCDK,GAAasF,SAAW,aAAc,SAAU,SAAU,cAAe,kBAAmB,cAAgB,gBAC5G3F,EAAOkH,IAAI7G,EAIX,IAAIL,GAASG,EAAQH,OAAO,mCAC3B,6BAoIDS,GAAYkF,SAAW,KAAM,UAC7B3F,EAAOmH,QAAQ,cAAe1G,EAI9B,IAAIT,GAASG,EAAQH,OAAO,sCAuB5BA,GAAOoH,SAAS,eAAgB9B,GAGhCnF,EAAQH,OAAO,qCACd,aACA,iBAGAmH,QAAQ,kBAAmB,SAAU,SAAS3G,GAC9C,OACC6G,OAAS7G,EAAO8G,qBAChBC,OAAS,UAIVJ,QAAQ,iBAAkB,YAAa,iBAAkB,SAASK,EAAWC,GAC7E,MAAOD,GACNC,EAAOJ,WACNK,OACCH,OAAQE,EAAOF,YAQnB,IAAIvH,GAASG,EAAQH,OAAO,qCA2D5BA,GAAOoH,SAAS,sBAAsBO,QAAQ,WAAY,IAAK9B,GAI/D1F,EAAQH,OAAO,uCACd,oCACA,qCAEAmH,QAAQ,mBAAoB,gBAAiB,eAAgB,SAASS,EAAerC,GACrF,OACCzE,IAAM,SAAS+G,GACd,OAAQA,GACP,IAAK,WAAa,MAAO,IAAItC,EAC7B,KAAK,QACL,QAAS,MAAO,IAAIqC,UAOrB1H,OAAQA,OAAOC","file":"ttui-user.min.js"}