/*! TT-UI-Navigation 0.0.33 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ttui-navigation"),function(a,b,c){"use strict";function d(){this.apiPath="navigation-apps.json",this.apiParams=[],this.apiMethod="GET",this.$get=function(){var a={};return a.apiPath=this.apiPath,a.apiParams=this.apiParams,a.apiMethod=this.apiMethod,a.getApiPath=function(){return a.apiPath},a.getApiParams=function(){return a.apiParams},a.getApiMethod=function(){return a.apiMethod},a},this.setApiPath=function(a){this.apiPath=a},this.setApiParams=function(a){this.apiParams=a},this.setApiMethod=function(a){this.apiMethod=a}}function e(a,c,d,e,f,g,h){return{restrict:"E",scope:!1,link:function(i,j,k){var l=a.navigate.appSwitcherEnabled=!1;b.isDefined(k.appSwitcherEnabled)&&(l=g(k.appSwitcherEnabled)(i),a.navigate.appSwitcherEnabled=l),a.navigate.apps=[{name:"app 1",link:""}],h.query().then(function(c){b.isArray(c.data)?a.navigate.apps=c.data:l=!1},function(){f.warn("navigation: app switcher is not configured"),l=!1});var m=!1,n=b.element(document).find("body"),o=b.element(j.find(".app-switcher")),p=b.element('<nav class="navbar switcher-nav"><ul class="nav nav-justified"><li ng-click="navigate.switchApp(app.link)" ng-repeat="app in navigate.apps"><a ng-bind="app.name"></a></li></ul></nav>');a.navigate.toggleAppSwitcher=function(){l&&(m=!m,n.toggleClass("switch-open",m),p.toggleClass("switcher-nav-open",m),o.toggleClass("rotate",m))},a.navigate.switchApp=function(b){a.navigate.toggleAppSwitcher(),c(function(){e.open(b,"_self")},1200)},b.element(e).bind("scroll",function(){m&&this.pageYOffset>=80&&a.navigate.toggleAppSwitcher()}),c(function(){l&&(d(p)(i),n.addClass("ttui-navigation-switch"),n.prepend(p)),j.addClass("show")},0)}}}function f(a,b){return this.query=function(){return b({method:a.getApiMethod(),url:a.getApiPath()+"?"+a.getApiParams().join("&")})},{query:this.query}}function g(a,c,d,e){return{restrict:"A",scope:!0,link:function(f,g,h){function i(){a.navigate.activeMenuTimeout=c(l,100)}function j(){a.navigate.navHover=!0,a.navigate.activeMenuTimeout&&(c.cancel(a.navigate.activeMenuTimeout),a.navigate.activeMenuTimeout=null),a.navigate.setMenuTimeout&&(c.cancel(a.navigate.setMenuTimeout),a.navigate.setMenuTimeout=null),a.navigate.setMenuTimeout=c(k,100)}function k(){a.navigate.navHover=!0,p&&(a.navigate.activeMenu=p)}function l(){a.navigate.navHover=!1,a.navigate.activeMenu=a.navigate.activeStateMenu}function m(){q&&d.go(q)}function n(){a.navigate.activeMenu===p?e.addClass(g,"hover"):e.removeClass(g,"hover")}function o(){a.navigate.navHover===!0?e.addClass(g.parent(),"nav-hover"):e.removeClass(g.parent(),"nav-hover")}b.isDefined(a.navigate)||(a.navigate={});var p=h.navigateMainMenu,q=h.defaultState;a.$on("$stateChangeSuccess",function(a,b){b.parent===p?g.addClass("active"):g.removeClass("active")}),a.navigate.activeMenu=a.navigate.activeStateMenu,g.on("mousemove",j),g.on("mouseleave",i),g.on("click",m),f.$watch("navigate.activeMenu",n),f.$watch("navigate.navHover",o),f.$on("$destroy",function(){g.off("mousemove",j),g.off("mouseleave",i),g.off("click",m)})}}}function h(a,b){return{restrict:"A",scope:!1,link:function(a,c,d){function e(a){f||a?a===f?b.removeClass(c,"ng-hide"):b.addClass(c,"ng-hide"):b.removeClass(c,"ng-hide")}var f=d.navigateMenuContent;a.$watch("navigate.activeMenu",e)}}}function i(a,c,d){return{restrict:"A",scope:!1,link:function(e,f,g){function h(){j=g.navigateMenuIcon,a.navigate.activeSubMenu===j?c.addClass(i,"selection-bar-slide"):c.removeClass(i,"selection-bar-slide")}b.isDefined(a.navigate)||(a.navigate={});var i=b.element('<span class="glyphicon glyphicon-menu-right selection-bar"></span>'),j=g.navigateMenuIcon;f.append(i),d(i)(e),e.$watch("navigate.activeSubMenu",h)}}}function j(a,c){return{restrict:"A",scope:!0,link:function(d,e,f){var g,h=0;d.timer=5e3,f.navigateTipRoller&&(d.timer=f.navigateTipRoller),d.items=e.find("li"),d.hideItems=function(){d.items.length>0&&b.forEach(d.items,function(b){a.addClass(b,"ng-hide")})},d.showItem=function(){d.hideItems(),d.items.length>0&&(h>=d.items.length&&(h=0),a.removeClass(d.items[h],"ng-hide"),h++)},d.hideItems(),d.showItem(),g=c(d.showItem,d.timer),d.$on("$destroy",function(){c.cancel(g)})}}}function k(a,c,d){return{template:'<div class="visible-xs"></div><div class="visible-sm"></div><div class="visible-md"></div><div class="visible-lg"></div>',restrict:"E",replace:!1,scope:!0,link:function(e,f){b.isDefined(c.navigate)||(c.navigate={}),e.isVisible=function(a){return b.isDefined(a)?"block"===a.css("display"):!1},e.markers=f.find("div"),e.update=function(){b.forEach(e.markers,function(a){var d=b.element(a);if(e.isVisible(d)){var f=a.className;return"visible-xs"===f?c.navigate.navigateDisplayMode="mobile":"visible-md"===f?c.navigate.navigateDisplayMode="tablet":"visible-lg"===f&&(c.navigate.navigateDisplayMode="desktop"),!1}})},b.element(a).bind("resize",function(){d(function(){e.update()},100)}),e.update()}}}function l(a,c){return{restrict:"A",scope:!1,link:function(d,e,f){d.update=function(){var b=0;f.navigateSticky&&(b=f.navigateSticky),a.pageYOffset<=0?e.removeClass("navbar-fixed-top"):a.pageYOffset>=b&&e.addClass("navbar-fixed-top")},b.element(a).bind("scroll",function(){c(function(){d.update()},0)})}}}function m(a,c){function d(){return c.has("uibCollapseDirective")?"uib-collapse":"collapse"}return{restrict:"E",scope:{logoUrl:"@",logoText:"@"},transclude:!0,template:'<nav class="ttui-navigation navbar navbar-default visible-xs"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle" ng-click="$root.navigate.collapsed = !$root.navigate.collapsed;" ng-class="{collapsed: $root.navigate.collapsed}"><span class="sr-only">Toggle navigation</span><span class="icon-bar top-bar"></span><span class="icon-bar middle-bar"></span><span class="icon-bar bottom-bar"></span></button><a class="app-switcher navbar-brand" href tabindex="-1" ng-click="$root.navigate.toggleAppSwitcher();" ng-show="$root.navigate.appSwitcherEnabled"><p class="navbar-text glyphicon glyphicon-th-large"></p></a><a class="navbar-brand" href ui-sref="home" tabindex="-1" ng-if="logoUrl"><img ng-src="{{logoUrl}}"></img></a><a class="navbar-brand" href ui-sref="home" tabindex="-1" ng-if="logoText"><p class="navbar-text logo-text" ng-bind="logoText"></p></a></div><div '+d()+'="$root.navigate.collapsed"><ng-transclude></ng-transclude></div></div></nav>',link:function(c,d,e){b.isDefined(a.navigate)||(a.navigate={}),a.navigate.collapse=function(){a.navigate.collapsed=!0},e.logoUrl&&(c.logoUrl=e.logoUrl)}}}function n(a,c){return{restrict:"E",scope:{collapseTrigger:"=",defaultState:"@",menuState:"@"},transclude:!0,template:'<li navigate-main-menu="{{menuState}}" default-state="{{defaultState}}"><ng-transclude ng-click="trigger()"></ng-transclude><span class="glyphicon pull-right" ng-class="{\'glyphicon-triangle-bottom\': !collapseTrigger, \'glyphicon-triangle-right\': collapseTrigger}"></span></li>',link:function(d){d.trigger=function(){b.isDefined(d.collapseTrigger)||(d.collapseTrigger=!1),d.collapseTrigger=!d.collapseTrigger},d.toCollapse=function(){a.navigate.activeMenu!==d.menuState&&d.trigger()},c(d.toCollapse,0)}}}function o(a){return{restrict:"E",scope:!0,transclude:!0,template:'<li ui-sref-active="active" navigate-menu-icon="{{menuState}}"><a ng-click="collapse();" ng-transclude></a></li>',link:function(b,c,d){b.menuState=d.menuState,b.collapse=function(){a.navigate.collapsed=!0}}}}b.module("TT-UI.Navigation",["ngAnimate","ui.router","ui.bootstrap.collapse","ui.bootstrap.dropdown","TT-UI.Navigation.Directives.Navigation"]);var p=b.module("TT-UI.Navigation.Directives.Navigation",[]);return p.provider("navigation",d),e.$inject=["$rootScope","$timeout","$compile","$window","$log","$parse","navigateDataFactory"],p.directive("ttNavigation",e),f.$inject=["navigation","$http"],p.factory("navigateDataFactory",f),g.$inject=["$rootScope","$timeout","$state","$animate"],p.directive("navigateMainMenu",g),h.$inject=["$rootScope","$animate"],p.directive("navigateMenuContent",h),i.$inject=["$rootScope","$animate","$compile"],p.directive("navigateMenuIcon",i),j.$inject=["$animate","$interval"],p.directive("navigateTipRoller",j),k.$inject=["$window","$rootScope","$timeout"],p.directive("navigateDisplayMode",k),l.$inject=["$window","$timeout"],p.directive("navigateSticky",l),m.$inject=["$rootScope","$injector"],p.directive("navigateMobileMenu",m),n.$inject=["$rootScope","$timeout"],p.directive("navigateMobileMenuItem",n),o.$inject=["$rootScope"],p.directive("navigateMobileMenuSubItem",o),b}(window,window.angular);
//# sourceMappingURL=ttui-navigation.min.js.map