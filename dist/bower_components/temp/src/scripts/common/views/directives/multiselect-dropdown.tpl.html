<div class="btn-group multiselect-dropdown-ttui" ng-class="{looksDisabled: isDisabled}" data-role="multiselect">

	<div class="dropdown-container">
		<div class="search-container">
			<input tabindex="0" class="form-control" placeholder="type in to filter" ng-model="searchText" ng-focus="open = true; clearCurrentSelected();"
			ng-model-options="{ debounce: { default: 200, blur: 0 }}">
			</input>
			<span class="caret-placeholder" ng-class="{dropup: open}" ng-click="toggleDropdown()"><span class="caret"></span></span>
		</div>

		<div ng-show="open" class="dropdown">
			<ul ng-mousedown="onMenuMouseDown($event)">
				<li tabindex="-1" id="{{option.value}}" ng-show="open" ng-repeat="option in (filteredOptions = (options | filter:searchText)) track by $index"
				ng-click="setSelectedItem(option, $event)" ng-class="{selected: keyBoardPointer(option.value)}" ng-class-even="'even'">
					<span ng-bind-html="highlightMatching(option.name, searchText)"></span>
					<input class="css-checkbox" id="{{::option.value}}" type="checkbox" ng-click="setSelectedItem(option, $event)" ng-checked="isChecked(option.value)" />
					<!-- Add empty label tag for checkbox styling -->
					<label class="pull-right css-label" for="{{::option.value}}"></label>
				</li>
			</ul>

			<div class="panel-footer">
				<div class="pull-right">
					<span ng-if="count > 0">({{count}}/{{options.length}}) </span>
					<span tabindex="0" id="select-all" ng-if="filteredOptions.length === options.length">SELECT ALL </span>
					<span tabindex="0" id="select-all" ng-if="filteredOptions.length < options.length">SELECT FILTERED </span>
					<input class="css-checkbox" id="select-all-value" type="checkbox" value="select-all" ng-checked="allSelected" ng-click="toggleSelectAll($event)" ng-disabled="isDisabled" />
					<label class="css-label" for="select-all-value" ng-class="{'partially-selected': count > 0 && !allSelected}"></label>
				</div>
			</div>
		</div>
	</div>

	<div class="selected-container">
		<span class="selected" ng-repeat="selected in selectedOptions | limitTo:limit" ng-click="setSelectedItem(selected, $event)">{{selected.name}}</span>
		<span class="showAll" ng-if="selectedOptions.length > limitNo && !showAll" ng-click="toggleShowAll()">
            <span class="glyphicon glyphicon-plus"></span> All
		</span>
		<span class="showAll" ng-if="selectedOptions.length > limitNo && showAll" ng-click="toggleShowAll()">
            <span class="glyphicon glyphicon-minus"></span> Less
		</span>
	</div>
</div>