<div id="simple-timeline">

	<div class="bs-example" dox-resize>
		<a class="btn btn-open-example" href="../examples/simple-timeline/">Open example</a>
		<iframe class="window" src="../examples/simple-timeline/index.html"></iframe>

		<div role="tabpanel">
			<!-- Nav tabs -->
			<ul class="nav nav-tabs" role="tablist">
				<li role="presentation" class="active">
					<a href="#timeline-html" aria-controls="timeline-html" role="tab" data-toggle="tab">html</a>
				</li>
				<li role="presentation">
					<a href="#timeline-options" aria-controls="timeline-options" role="tab" data-toggle="tab">options</a>
				</li>
				<li role="presentation">
					<a href="#timeline-js" aria-controls="timeline-js" role="tab" data-toggle="tab">js</a>
				</li>
			</ul>
			<!-- Tab panes -->
			<div class="tab-content">
				<div role="tabpanel" class="tab-pane active" id="timeline-html">
{% highlight html %}
<simple-timeline
    events="timelineEvents"
    show-events-max="3"
    hide-line="false"
    hide-event-bubble="false"
    show-end-badge="true"
    show-more-badge="true"
    badge-size="large"
    show-date-filter="true"
    show-content-filter="true"
    filters="timelineFilters"
    set-default-date-filter-range="true"
    clip-event-content="false"
    force-left-layout="false">
</simple-timeline>
{% endhighlight %}
				</div>

				<div role="tabpanel" class="tab-pane" id="timeline-options">
{% highlight text %}
events
- Type: Array
- An array of events (check the structure below)

show-events-max
- Type: Number
- The number of events shown before the 'more arrow'

hide-line
- Type: Boolean
- Show/Hide timeline center line

hide-event-bubble
- Type: Boolean
- Show/Hide event bubble (shadow)

show-end-badge
- Type: Boolean
- To show/hide end of events badge

show-more-badge
- Type: Boolean
- To show/hide more events badge

badge-size
- Type: String (default, medium, large)
- Set event badge size

show-date-filter
- Type: Boolean
- To show/hide date filter

show-content-filter
- Type: Boolean
- To show/hide content filter

filters
- Type: Array
- An array of filters (check the structure below)

set-default-date-filter-range
- Type: Boolean
- Set default start/end dates for date filter (from the 1st of current month to the 1st of next month)

clip-event-content
- Type: Boolean
- To clip/not to clip event content to one row (ellipsis in the end)

force-left-layout
- Forces layout to align always left
{% endhighlight %}
				</div>

				<div role="tabpanel" class="tab-pane" id="timeline-js">
{% highlight js %}
module = angular.module('TT-APP.SimpleTimelineDemo', [
	'TT-UI.Config',
	'TT-UI.Common',
	'TT-UI.Common.Tpl'
]);

module.controller('simpleTimelineCtrl', ['$scope', '$rootScope', '$modal', function($scope, $rootScope, $modal) {
	$scope.addEvent = function(event) {
		var date = new Date();

		$scope.timelineEvents.push({
			type: event.type,
			status: event.status,
			iconClass: event.iconClass,
			title: event.title,
			content: event.content,
			time: event.time || date,
			src: event.src,
			action: function(event) {
				$scope.openDialog(event, viewBadgeTemplate);
			},
			disabled: function() {
				return false;
			}
		});
	};

	$scope.openDialog = function(event, template) {
		if (!template) {
			return;
		}

		var scope = $rootScope.$new();

		scope.timeline = {
			modal: $modal({scope: scope, template: template, show: false, html: true, keyboard: true}),
			event: event
		};

		// wait until the template is loaded...
		scope.timeline.modal.$promise.then(function() {
			scope.timeline.modal.show();
		});
	};

	// put to template file
	var addEventTemplate =
		'<div class="modal" tabindex="-1" role="dialog">' +
			'<div class="modal-dialog modal-panel-dialog">' +
				'<div class="panel panel-default">' +
					'<div class="modal-header">' +
						'<button type="button" class="close" ng-click="timeline.cancelFn()">&times;</button>' +
						'<h4 class="modal-title">Add an event to the timeline</h4>' +
					'</div>' +
					'<div class="panel-body">' +
						'<form>' +
							'<div>Status</div>' +
							'<div class="form-group">' +
								'<select class="form-control" ng-model="timeline.event.status" ng-change="timeline.change()" ng-init="badge = 0">' +
									'<option value="0" label="Select status">Select status</option>' +
									'<option value="primary" label="Primary" class="primary">Primary</option>' +
									'<option value="success" label="Success">Success</option>' +
									'<option value="warning" label="Warning">Warning</option>' +
									'<option value="danger" label="Danger">Danger</option>' +
									'<option value="info" label="Info">Info</option>' +
								'</select>' +
							'</div>' +
							'<div>Type</div>' +
							'<div class="form-group">' +
								'<input class="form-control" ng-model="timeline.event.type" type="text" />' +
							'</div>' +
							'<div>Image source (only for image type)</div>' +
							'<div class="form-group">' +
								'<input class="form-control" ng-model="timeline.event.src" type="text" />' +
							'</div>' +
							'<div>Badge icon class (any icon class e.g. fa fa-check-circle-o, glyphicon glyphicon-ok-circle, your-icon-class, etc.)</div>' +
							'<div class="form-group">' +
								'<input class="form-control" ng-model="timeline.event.iconClass" type="text" />' +
							'</div>' +
							'<div>Event heading</div>' +
							'<div class="form-group">' +
								'<input class="form-control" ng-model="timeline.event.title" type="text" />' +
							'</div>' +
							'<div>Event text content</div>' +
							'<div class="form-group">' +
								'<textarea class="form-control" rows="3" ng-model="timeline.event.content"></textarea>' +
							'</div>' +
							'<div>Event time</div>' +
							'<div class="input-group">' +
								'<input class="form-control" type="text" placeholder="dd/mm/yyyy" name="timelineDatepicker" data-autoclose="1" ng-model="timeline.event.time" bs-datepicker />' +
								'<span class="input-group-addon">' +
									'<i class="fa fa-calendar-plus-o fa-lg fa-fw"></i>' +
								'</span>' +
							'</div>' +
						'</form>' +
					'</div>' +
					'<div class="panel-footer text-right">' +
						'<button type="button" class="btn btn-default" ng-click="timeline.cancelFn()" translate> CANCEL </button>' +
						'<button type="button" class="btn btn-primary" ng-click="timeline.okFn()" translate> OK </button>' +
					'</div>' +
				'</div>' +
			'</div>' +
		'</div>';

	// put to template file
	var viewBadgeTemplate =
		'<div class="modal" tabindex="-1" role="dialog">' +
			'<div class="modal-dialog modal-panel-dialog">' +
				'<div class="panel panel-default">' +
					'<div class="modal-header">' +
						'<button type="button" class="close" ng-click="timeline.modal.hide()">&times;</button>' +
						'<h4 class="modal-title" ng-bind="::timeline.event.title"></h4>' +
					'</div>' +
					'<div class="panel-body">' +
						'<img ng-src="{{timeline.event.src}}" ng-if="timeline.event.src"></img>' +
						'<div ng-bind="::timeline.event.content"></div>' +
						'<div class="text-right" ng-bind="::timeline.event.time | date:\'mediumDate\'"></div>' +
					'</div>' +
					'<div class="panel-footer text-right">' +
						'<button type="button" class="btn btn-primary" ng-click="timeline.modal.hide()" translate> CLOSE </button>' +
					'</div>' +
				'</div>' +
			'</div>' +
		'</div>';

	$scope.timelineFilters = [
		{
			title: 'All',
			type: undefined
		},
		{
			title: 'Button',
			type: 'button'
		},
		{
			title: 'Image',
			type: 'image'
		},
		{
			title: 'Request',
			type: 'request'
		},
		{
			title: 'Ticket',
			type: 'ticket'
		},
		{
			title: 'Aaa',
			type: 'aaa'
		},
		{
			title: 'Bbb',
			type: 'bbb'
		},
		{
			title: 'Warning',
			status: 'warning'
		}
	];

	$scope.timelineEvents = [
		{
			type: 'button',
			status: 'primary',
			iconClass: 'fa fa-plus-circle',
			title: 'ADD EVENT',
			content: 'Some important button text',
			action: function() {
				var scope = $rootScope.$new();

				scope.timeline = {
					modal: $modal({scope: scope, template: addEventTemplate, show: false, html: true, keyboard: true}),
					service: null,
					okFn: function() {
						$scope.addEvent(scope.timeline.event);
						this.modal.hide();
					},
					cancelFn: function() {
						console.log('cancel');
						this.modal.hide();
					},
					change: function() {
						console.log('change');
					},
					event: {
						status: '0',
						iconClass: 'fa fa-check-circle'
					}
				};

				// wait until the template is loaded...
				scope.timeline.modal.$promise.then(function() {
					scope.timeline.modal.show();
				});
			},
			time: undefined // button stays at the top/latest
		},
		{
			status: 'success',
			iconClass: 'fa fa-check-circle',
			title: 'First event (success)',
			action: function(event) {
				$scope.openDialog(event, viewBadgeTemplate);
			},
			content: 'Some awesome loooooooooooooooooooooo oooooooooooooooooooooo ooooooooooooooo ooooooooo ooooooooooooo ooooooooooooooooooooong content.',
			time: new Date('2016/08/1')
		},
		{
			type: 'image',
			status: 'primary',
			src: '/assets/img/branching.svg',
			iconClass: 'fa fa-photo',
			title: 'Second event (primary)',
			action: function(event) {
				$scope.openDialog(event, viewBadgeTemplate);
			},
			content: 'Some awesome content.',
			time: new Date('2016/08/2')
		},
		{
			status: 'warning',
			iconClass: 'fa fa-exclamation-circle',
			title: 'Third event (warning)',
			action: function(event) {
				$scope.openDialog(event, viewBadgeTemplate);
			},
			content: 'Some awesome content.',
			time: new Date('2016/08/3')
		},
		{
			status: 'danger',
			iconClass: 'fa fa-times-circle',
			title: 'Fourth event (danger)',
			action: function(event) {
				$scope.openDialog(event, viewBadgeTemplate);
			},
			content: 'Some awesome content.',
			time: new Date('2016/08/4')
		},
		{
			// status: 'danger',
			iconClass: 'fa fa-circle',
			title: 'Fifth event',
			action: function(event) {
				$scope.openDialog(event, viewBadgeTemplate);
			},
			content: 'Some awesome content.',
			time: new Date('2016/08/5')
		}
	];
}]);

{% endhighlight %}
				</div>
			</div>
		</div>
	</div>
</div>